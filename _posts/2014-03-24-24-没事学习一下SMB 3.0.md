---
layout: post
title: 没事学习一下SMB 3.0
original: https://blog.csdn.net/zedware/article/details/21993385
---
注：
突发奇想，想看看Mac OS上到底有没有sparse file，找到Wikipedia，说是没有：http://en.wikipedia.org/wiki/Sparse_file。简单验证了一下，确实是没有。然后不知道怎么逛到了微软的网站，看到这个熟悉的东西，无聊的Copy一下。

###New SMB features that are introduced in the Windows Server 2012 file server
- SMB Transparent Failover
- SMB Scale Out
- SMB Multichannel
- SMB Direct
- SMB Encryption
- VSS for SMB file shares
- SMB Directory Leasing
- SMB PowerShell


####SMB Transparent Failover
Both the SMB client and SMB server must support SMB 3.0 to take advantage of the SMB Transparent Failover functionality.

SMB 1.0- and SMB 2.x-capable clients will be able to connect to, and access, shares that are configured to use the Continuously Available property. However,
 SMB 1.0 and SMB 2.x clients will not benefit from the SMB Transparent Failover feature. If the currently accessed cluster node becomes unavailable, or if the administrator makes administrative changes to the clustered file server, the SMB 1.0 or SMB 2.x client
 will lose the active SMB session and any open handles to the clustered file server. The user or application on the SMB client computer must take corrective action to reestablish connectivity to the clustered file share.

Note SMB Transparent Failover is incompatible
 with volumes enabled for short file name (8.3 file name) support or with compressed files (such as NTFS-compressed files). 
####SMB Scale Out
Both the SMB client and SMB server must support SMB 3.0 to take advantage of the SMB Scale Out feature.

SMB 1.0 clients do not contain the required client functionality to access SMB scale-out file shares and will receive an "Access Denied" error message
 when they try to connect to a scale-out file share. 

SMB scale-out file shares are always configured so that the Continuously Available property is set. SMB 2.x clients will be able to connect to SMB scale-out
 file shares but will not benefit from the SMB Transparent Failover functionality. 
####SMB Multichannel

Both the SMB client and SMB server must support SMB 3.0 to take advantage of the SMB Multichannel functionality. SMB 1.0 and SMB 2.x clients will use a
 single SMB connection.

####SMB Direct (SMB over Remote Direct Memory Access [RDMA])
SMB Direct is available only on the Windows Server platform and was introduced in Windows Server 2012. SMB Direct Functionality requires that the SMB client
 and SMB server support SMB 3.0.

####SMB Encryption
Both the SMB client and SMB server must support SMB 3.0 to take advantage of the SMB Encryption functionality.

####VSS for SMB file shares
Both the SMB client and SMB server must support SMB 3.0 to take advantage of the Volume Shadow Copy Service (VSS) for SMB file shares functionality.
####SMB Directory Leasing
Both the SMB client and SMB server must support SMB 3.0 to take advantage of the SMB Directory Leasing functionality.

####SMB PowerShell
SMB PowerShell management cmdlets were introduced in Windows Server 2012 and in Windows 8. Older SMB clients and SMB servers will have to continue using
 down-level tools for management (for example, Net.exe) and APIs (for example, Win32 APIs).


